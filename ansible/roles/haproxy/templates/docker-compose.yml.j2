            version: '3.7'

            services:
              haproxy:
                image: haproxy:latest
                container_name: haproxy
                ports:
                  - "25565:25565"
                  - "1936:1936"
                volumes:
                  - ./haproxy.cfg:/usr/local/etc/haproxy/haproxy.cfg
                networks:
                  - mc_net
                restart: always

            networks:
              mc_net:
                external: true
                    *   **`ansible/roles/haproxy/templates/haproxy.service.j2`:**

        ```ini
        [Unit]
        Description=HAProxy Load Balancer
        After=network.target

        [Service]
        WorkingDirectory={{ haproxy_directory }}
        User=root
        Group=root
        ExecStart=/usr/bin/docker compose up -d
        ExecStop=/usr/bin/docker compose down
        Restart=always

        [Install]
        WantedBy=multi-user.target
        ```
